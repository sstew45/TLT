{
  "hash": "60eb779162a061195e1fef0617e70133",
  "result": {
    "engine": "knitr",
    "markdown": "---\nauthor: Scott Stewart\ndate-modified: last-modified\n---\n\n\n# Setup\n\nFirst, we need to set up our environment. The code we need for loading packages can be expanded below.\n\n::: {.callout-note collapse=\"true\"}\n\n## Load Packages\n\nPackages:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load primary packages\nlibrary(here) # for relative directories\nlibrary(showtext) # fonts\nlibrary(readxl) # read data from Excel\nlibrary(labelled) # column labelling\nlibrary(janitor) # 2-way tables; exploratory analysis\nlibrary(scales) # formatting percentages\nlibrary(patchwork) # combining plots\nlibrary(ggeasy) # using column labels in plots\nlibrary(gt) # nice HTML tables\nlibrary(tinytable) # nice HTML/PDF tables without dependencies\nlibrary(gtExtras) # rich HTML tables (added on to functionality of {gt}\nlibrary(dlookr) # creating data dictionaries\nlibrary(psych) # exploratory analysis; summary stats\nlibrary(tidyverse) # multifunctional collection of packages\n\n# knitr options\n# knitr::opts_chunk$set(out.width = 700, out.height = 500)\n```\n:::\n\n\n:::\n\n# Introduction\n\nI am a big fan of the Thomas Lady Terriers basketball team, and I am forever grateful to [Wright Media](https://wright.media/) and Newstalk KCLI for broadcasting Terrier and Lady Terrier sports on [Terrier TV](https://kclifm.com/kcli-fm-terrier-tv), allowing me to watch the games while living out of state.\n\nI have recorded and maintained player and team statistics for each game of the current season, but now I want to be able to automate some of the aggregations and maybe create some customized plots and tables from these stats. Enter R.\n\n## Load Game Data\n\n### Raw Data\n\nThe raw data is in Excel and cannot be downloaded from this website. However, you can email me and I can send it to you.\n\nLet's load the data using the **readxl** package:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# file path\npath <- here(\"_input_data/Lady-Terriers_STATS_updated-15JAN2024.xlsx\")\n\n# sheet names\nsheets <- excel_sheets(path = path)\n\n# choose all but first two sheets and reverse their order\ngames <- rev(sheets[-c(1, 2)]) |> \n  map_df(\n    ~ read_excel(\n      path = path, \n      sheet = .x, \n      range = \"A4:V25\",\n      col_types = \"text\"),\n    .id = \"game\")\n```\n:::\n\n\n### Scores by Quarter\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# setup\nscores_by_qtr <- games |> \n  filter(is.na(FTA)) |> \n  drop_na(\"Name\") |> \n  filter(Name != \"SCORE BY QUARTER\") |> \n  mutate(\n    team = str_to_title(Name),\n    game = as.numeric(game)) |> \n  select(\n    game, team, \n    Q1_pts = \"Fouls\",\n    Q2_pts = \"2PA\",\n    Q3_pts = \"2PM\",\n    Q4_pts = \"PCT...6\") |> \n  mutate(\n    across(c(Q1_pts:Q4_pts), as.numeric))\n\n# one row per quarter per team\nscores_qtr_long <- scores_by_qtr |> \n  pivot_longer(\n    cols = -c(1,2),\n    names_to = \"qtr\",\n    values_to = \"points\") |> \n  mutate(quarter = str_sub(qtr, start = 2, end = 2) |> as.numeric()) |> \n  select(1, 2, 5, 4)\n\n# one row per game per team\nscores_qtr_wide <- scores_by_qtr |> \n  select(\n    game, team,\n    q1 = Q1_pts,\n    q2 = Q2_pts,\n    q3 = Q3_pts,\n    q4 = Q4_pts) |> \n  mutate(\n    h1 = q1 + q2,\n    h2 = q3 + q4,\n    g = h1 + h2) |> \n  set_variable_labels(\n    game = \"Game Number\",\n    team = \"Team Name\",\n    q1 = \"1st Quarter Points\",\n    q2 = \"2nd Quarter Points\",\n    q3 = \"3rd Quarter Points\",\n    q4 = \"4th Quarter Points\",\n    h1 = \"1st Half Points\",\n    h2 = \"2nd Half Points\",\n    g = \"Total Points\")\n```\n:::\n\n::: {#tbl-scores-by-qtr-raw .cell tbl-cap='Scores by Quarter, Half and Game'}\n\n```{.r .cell-code}\nqtr_wide_col_labs <- scores_qtr_wide\nnames(qtr_wide_col_labs) <- as.character(var_label(qtr_wide_col_labs))\ntinytable::tt(qtr_wide_col_labs, theme = \"striped\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_kn84y5pzz89uuexmj0gq</title>\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <style>\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-striped\" id=\"tinytable_kn84y5pzz89uuexmj0gq\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\">Game Number</th>\n                <th scope=\"col\">Team Name</th>\n                <th scope=\"col\">1st Quarter Points</th>\n                <th scope=\"col\">2nd Quarter Points</th>\n                <th scope=\"col\">3rd Quarter Points</th>\n                <th scope=\"col\">4th Quarter Points</th>\n                <th scope=\"col\">1st Half Points</th>\n                <th scope=\"col\">2nd Half Points</th>\n                <th scope=\"col\">Total Points</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td> 1</td>\n                  <td>Thomas</td>\n                  <td> 7</td>\n                  <td>13</td>\n                  <td>21</td>\n                  <td>11</td>\n                  <td>20</td>\n                  <td>32</td>\n                  <td>52</td>\n                </tr>\n                <tr>\n                  <td> 1</td>\n                  <td>Cordell</td>\n                  <td>11</td>\n                  <td>10</td>\n                  <td> 4</td>\n                  <td> 9</td>\n                  <td>21</td>\n                  <td>13</td>\n                  <td>34</td>\n                </tr>\n                <tr>\n                  <td> 2</td>\n                  <td>Thomas</td>\n                  <td>23</td>\n                  <td>17</td>\n                  <td>18</td>\n                  <td>15</td>\n                  <td>40</td>\n                  <td>33</td>\n                  <td>73</td>\n                </tr>\n                <tr>\n                  <td> 2</td>\n                  <td>Geary</td>\n                  <td> 8</td>\n                  <td>12</td>\n                  <td>10</td>\n                  <td>19</td>\n                  <td>20</td>\n                  <td>29</td>\n                  <td>49</td>\n                </tr>\n                <tr>\n                  <td> 3</td>\n                  <td>Thomas</td>\n                  <td> 7</td>\n                  <td>19</td>\n                  <td> 7</td>\n                  <td>10</td>\n                  <td>26</td>\n                  <td>17</td>\n                  <td>43</td>\n                </tr>\n                <tr>\n                  <td> 3</td>\n                  <td>Arapaho</td>\n                  <td>14</td>\n                  <td>13</td>\n                  <td> 4</td>\n                  <td>13</td>\n                  <td>27</td>\n                  <td>17</td>\n                  <td>44</td>\n                </tr>\n                <tr>\n                  <td> 4</td>\n                  <td>Thomas</td>\n                  <td> 9</td>\n                  <td>14</td>\n                  <td>10</td>\n                  <td> 6</td>\n                  <td>23</td>\n                  <td>16</td>\n                  <td>39</td>\n                </tr>\n                <tr>\n                  <td> 4</td>\n                  <td>Burns Flat-Dill City</td>\n                  <td> 0</td>\n                  <td> 4</td>\n                  <td> 3</td>\n                  <td> 4</td>\n                  <td> 4</td>\n                  <td> 7</td>\n                  <td>11</td>\n                </tr>\n                <tr>\n                  <td> 5</td>\n                  <td>Thomas</td>\n                  <td> 6</td>\n                  <td> 7</td>\n                  <td> 5</td>\n                  <td> 5</td>\n                  <td>13</td>\n                  <td>10</td>\n                  <td>23</td>\n                </tr>\n                <tr>\n                  <td> 5</td>\n                  <td>Hobart</td>\n                  <td> 6</td>\n                  <td>12</td>\n                  <td> 8</td>\n                  <td> 7</td>\n                  <td>18</td>\n                  <td>15</td>\n                  <td>33</td>\n                </tr>\n                <tr>\n                  <td> 6</td>\n                  <td>Thomas</td>\n                  <td> 8</td>\n                  <td>18</td>\n                  <td> 6</td>\n                  <td> 7</td>\n                  <td>26</td>\n                  <td>13</td>\n                  <td>39</td>\n                </tr>\n                <tr>\n                  <td> 6</td>\n                  <td>Mangum</td>\n                  <td>10</td>\n                  <td>10</td>\n                  <td>14</td>\n                  <td>13</td>\n                  <td>20</td>\n                  <td>27</td>\n                  <td>47</td>\n                </tr>\n                <tr>\n                  <td> 7</td>\n                  <td>Thomas</td>\n                  <td>19</td>\n                  <td>10</td>\n                  <td>11</td>\n                  <td>12</td>\n                  <td>29</td>\n                  <td>23</td>\n                  <td>52</td>\n                </tr>\n                <tr>\n                  <td> 7</td>\n                  <td>Calumet</td>\n                  <td> 2</td>\n                  <td> 5</td>\n                  <td> 1</td>\n                  <td>16</td>\n                  <td> 7</td>\n                  <td>17</td>\n                  <td>24</td>\n                </tr>\n                <tr>\n                  <td> 8</td>\n                  <td>Thomas</td>\n                  <td> 5</td>\n                  <td>11</td>\n                  <td> 6</td>\n                  <td>11</td>\n                  <td>16</td>\n                  <td>17</td>\n                  <td>33</td>\n                </tr>\n                <tr>\n                  <td> 8</td>\n                  <td>Canton</td>\n                  <td>15</td>\n                  <td>17</td>\n                  <td> 4</td>\n                  <td> 7</td>\n                  <td>32</td>\n                  <td>11</td>\n                  <td>43</td>\n                </tr>\n                <tr>\n                  <td> 9</td>\n                  <td>Thomas</td>\n                  <td>10</td>\n                  <td>13</td>\n                  <td>10</td>\n                  <td> 8</td>\n                  <td>23</td>\n                  <td>18</td>\n                  <td>41</td>\n                </tr>\n                <tr>\n                  <td> 9</td>\n                  <td>Union City</td>\n                  <td> 8</td>\n                  <td> 9</td>\n                  <td> 8</td>\n                  <td> 8</td>\n                  <td>17</td>\n                  <td>16</td>\n                  <td>33</td>\n                </tr>\n                <tr>\n                  <td>10</td>\n                  <td>Thomas</td>\n                  <td>14</td>\n                  <td>12</td>\n                  <td> 5</td>\n                  <td>14</td>\n                  <td>26</td>\n                  <td>19</td>\n                  <td>45</td>\n                </tr>\n                <tr>\n                  <td>10</td>\n                  <td>Ringwood</td>\n                  <td> 5</td>\n                  <td> 4</td>\n                  <td> 4</td>\n                  <td> 8</td>\n                  <td> 9</td>\n                  <td>12</td>\n                  <td>21</td>\n                </tr>\n                <tr>\n                  <td>11</td>\n                  <td>Thomas</td>\n                  <td> 8</td>\n                  <td> 6</td>\n                  <td>11</td>\n                  <td> 7</td>\n                  <td>14</td>\n                  <td>18</td>\n                  <td>32</td>\n                </tr>\n                <tr>\n                  <td>11</td>\n                  <td>Canton</td>\n                  <td>16</td>\n                  <td> 9</td>\n                  <td> 4</td>\n                  <td> 9</td>\n                  <td>25</td>\n                  <td>13</td>\n                  <td>38</td>\n                </tr>\n                <tr>\n                  <td>12</td>\n                  <td>Thomas</td>\n                  <td> 3</td>\n                  <td>13</td>\n                  <td>15</td>\n                  <td> 9</td>\n                  <td>16</td>\n                  <td>24</td>\n                  <td>40</td>\n                </tr>\n                <tr>\n                  <td>12</td>\n                  <td>Okeene</td>\n                  <td>11</td>\n                  <td> 6</td>\n                  <td> 6</td>\n                  <td>15</td>\n                  <td>17</td>\n                  <td>21</td>\n                  <td>38</td>\n                </tr>\n                <tr>\n                  <td>13</td>\n                  <td>Thomas</td>\n                  <td> 4</td>\n                  <td>11</td>\n                  <td> 9</td>\n                  <td> 8</td>\n                  <td>15</td>\n                  <td>17</td>\n                  <td>32</td>\n                </tr>\n                <tr>\n                  <td>13</td>\n                  <td>Lookeba-Sickles</td>\n                  <td>22</td>\n                  <td>15</td>\n                  <td>19</td>\n                  <td>19</td>\n                  <td>37</td>\n                  <td>38</td>\n                  <td>75</td>\n                </tr>\n                <tr>\n                  <td>14</td>\n                  <td>Thomas</td>\n                  <td>10</td>\n                  <td> 7</td>\n                  <td> 8</td>\n                  <td> 8</td>\n                  <td>17</td>\n                  <td>16</td>\n                  <td>33</td>\n                </tr>\n                <tr>\n                  <td>14</td>\n                  <td>Okarche</td>\n                  <td> 8</td>\n                  <td>15</td>\n                  <td> 7</td>\n                  <td>17</td>\n                  <td>23</td>\n                  <td>24</td>\n                  <td>47</td>\n                </tr>\n                <tr>\n                  <td>15</td>\n                  <td>Thomas</td>\n                  <td> 7</td>\n                  <td>11</td>\n                  <td> 8</td>\n                  <td>13</td>\n                  <td>18</td>\n                  <td>21</td>\n                  <td>39</td>\n                </tr>\n                <tr>\n                  <td>15</td>\n                  <td>Gracemont</td>\n                  <td> 4</td>\n                  <td> 3</td>\n                  <td> 3</td>\n                  <td>16</td>\n                  <td> 7</td>\n                  <td>19</td>\n                  <td>26</td>\n                </tr>\n                <tr>\n                  <td>16</td>\n                  <td>Thomas</td>\n                  <td>11</td>\n                  <td> 6</td>\n                  <td> 7</td>\n                  <td> 9</td>\n                  <td>17</td>\n                  <td>16</td>\n                  <td>33</td>\n                </tr>\n                <tr>\n                  <td>16</td>\n                  <td>Corn Bible</td>\n                  <td> 3</td>\n                  <td> 7</td>\n                  <td> 6</td>\n                  <td>10</td>\n                  <td>10</td>\n                  <td>16</td>\n                  <td>26</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\n    <script>\n    function styleCell_kn84y5pzz89uuexmj0gq(i, j, css_id) {\n      var table = document.getElementById(\"tinytable_kn84y5pzz89uuexmj0gq\");\n      table.rows[i].cells[j].classList.add(css_id);\n    }\n    function insertSpanRow(i, colspan, content) {\n      var table = document.getElementById('tinytable_kn84y5pzz89uuexmj0gq');\n      var newRow = table.insertRow(i);\n      var newCell = newRow.insertCell(0);\n      newCell.setAttribute(\"colspan\", colspan);\n      newCell.innerText = content;\n    }\n    </script>\n\n  </body>\n\n</html>\n\n```\n\n:::\n:::\n\n\n### Opponent Game Stats\n\n\n::: {.cell}\n\n```{.r .cell-code}\nopponent_stats <- games |> \n  drop_na(Name) |> \n  filter(Name != \"THOMAS\") |> \n  slice_tail(n = 3, by = game) |> \n  slice_head(n = 1, by = game) |> \n  select(-c(2, 7, 10, 13, 16, 21, 22, 23)) |> \n  mutate(\n    game = as.numeric(game),\n    # opponent = if_else(Name == \"BFDC\", \"Burns Flat-Dill City\", Name),\n    opponent = str_to_title(Name),\n    across(3:15, as.numeric), \n    .after = Name) |> \n  mutate(PF = Fouls, .after = TO) |> \n  select(-c(Name, Fouls)) |> \n  relocate(opponent, .after = game)\n```\n:::\n\n\n### Player Game Stats\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplayer_stats <- games |> \n  drop_na(`#`) |>\n  rename(\n    number = `#`,\n    name = Name,\n    PF = Fouls) |> \n  mutate(\n    number = as.numeric(number),\n    game = as.numeric(game),\n    across(4:23, as.numeric)) |> \n  select(-c(7, 10, 13, 16))\n```\n:::\n\n\n## Load Game Information\n\nThis includes game types (home, road, or neutral), locations, opponents and dates:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndates_prep <- rev(sheets[-c(1, 2)]) |> \n  map_df(\n    ~ read_excel(\n      path = path, \n      sheet = .x, \n      range = \"A1:U1\",\n      col_names = FALSE,\n      col_types = c(\n        \"date\", \"text\", \"text\", \"text\", \"text\", \"text\", \"text\", \"text\",\n        \"text\", \"text\", \"text\", \"text\", \"text\", \"text\", \"text\", \"text\",\n        \"text\", \"text\", \"text\", \"text\", \"text\")),\n    .id = \"game\")\ndates <- dates_prep |> \n  mutate(\n    game = as.numeric(game),\n    date = as.Date(`...1`),\n    location = str_sub(`...9`, start = 3L, end = -1L),\n    opponent = `...21`,\n    .keep = \"none\") |> \n  mutate(\n    type = case_when(\n      location == \"Thomas\" ~ \"Home\",\n      str_detect(location, \"\\\\*\") ~ \"Tournament\",\n      str_detect(location, \"\\\\†\") ~ \"Tournament\",\n      str_detect(location, \"\\\\‡\") ~ \"Tournament\",\n      str_detect(location, \"\\\\⁰\") ~ \"Playoff\",\n      .default = \"Away\") |> \n      factor(levels = c(\"Home\", \"Away\", \"Tournament\", \"Playoff\")) |> \n      fct_drop(),\n    .after = date) |> \n  mutate(\n    location = if_else(\n      type == \"Tournament\",\n      str_sub(location, start = 1L, end = -2L),\n      location))\n```\n:::\n\n\n# Summarize Data\n\n## Opponent Game Stats\n\n\n::: {.cell}\n\n```{.r .cell-code}\nopp_scores_qtr_wide <- scores_qtr_wide |> \n  filter(team != \"Thomas\") |> \n  select(1, 3:6)\n\nopp_summary <- dates |> \n  select(game, date, location, type) |> \n  left_join(opponent_stats, by = \"game\") |> \n  left_join(opp_scores_qtr_wide, by = \"game\") |> \n  mutate(\n    team = opponent,\n    PTS = FTM + (2 * `2PM`) + (3 * `3PM`),\n    `2PT_PCT` = round(`2PM` / `2PA`, digits = 3),\n    `3PT_PCT` = round(`3PM` / `3PA`, digits = 3),\n    FT_PCT = round(FTM / FTA, digits = 3),\n    REB = OREB + DREB) |> \n  select(-opponent) |> \n  select(\n    game, date, location, type, team, \n    PTS, OREB, DREB, REB, AST, STL, BLK, TO, PF,\n    `2PA`, `2PM`, `2PT_PCT`, `3PA`, `3PM`, `3PT_PCT`, FTA, FTM, FT_PCT,\n    q1, q2, q3, q4)\n```\n:::\n\n\n## Thomas Game Stats\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntt_scores_qtr_wide <- scores_qtr_wide |> \n  filter(team == \"Thomas\") |> \n  select(1, 3:6)\n\ntt_dates <- dates |> \n  select(game, date, location, type)\n\ntt_summary <- player_stats |> \n  select(-c(2:3, 17:19)) |> \n  summarise(\n    across(PF:TO, sum),\n    .by = game) |> \n  left_join(tt_scores_qtr_wide, by = \"game\") |> \n  right_join(tt_dates, by = \"game\") |> \n  mutate(\n    team = \"Thomas\",\n    PTS = FTM + (2 * `2PM`) + (3 * `3PM`),\n    `2PT_PCT` = round(`2PM` / `2PA`, digits = 3),\n    `3PT_PCT` = round(`3PM` / `3PA`, digits = 3),\n    FT_PCT = round(FTM / FTA, digits = 3),\n    REB = OREB + DREB) |> \n  select(\n    game, date, location, type, team, \n    PTS, OREB, DREB, REB, AST, STL, BLK, TO, PF,\n    `2PA`, `2PM`, `2PT_PCT`, `3PA`, `3PM`, `3PT_PCT`, FTA, FTM, FT_PCT,\n    q1, q2, q3, q4)\n```\n:::\n\n\n## Combined Game Stats\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngame_summaries <- bind_rows(tt_summary, opp_summary)\n```\n:::\n\n::: {#tbl-game-stats-by-team .cell tbl-cap='Game Stats by Team'}\n\n```{.r .cell-code}\ngame_summary_tt <- game_summaries |> \n  arrange(game) |> \n  select(game, date, type, team, PTS:TO) \n\ntinytable::tt(game_summary_tt, theme = \"striped\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_iswqx1j0pz4id9qmzkao</title>\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <style>\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-striped\" id=\"tinytable_iswqx1j0pz4id9qmzkao\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\">game</th>\n                <th scope=\"col\">date</th>\n                <th scope=\"col\">type</th>\n                <th scope=\"col\">team</th>\n                <th scope=\"col\">PTS</th>\n                <th scope=\"col\">OREB</th>\n                <th scope=\"col\">DREB</th>\n                <th scope=\"col\">REB</th>\n                <th scope=\"col\">AST</th>\n                <th scope=\"col\">STL</th>\n                <th scope=\"col\">BLK</th>\n                <th scope=\"col\">TO</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td> 1</td>\n                  <td>2023-11-28</td>\n                  <td>Away</td>\n                  <td>Thomas</td>\n                  <td>52</td>\n                  <td> 8</td>\n                  <td>29</td>\n                  <td>37</td>\n                  <td>14</td>\n                  <td> 1</td>\n                  <td>6</td>\n                  <td>19</td>\n                </tr>\n                <tr>\n                  <td> 1</td>\n                  <td>2023-11-28</td>\n                  <td>Away</td>\n                  <td>Cordell</td>\n                  <td>34</td>\n                  <td> 5</td>\n                  <td>16</td>\n                  <td>21</td>\n                  <td> 9</td>\n                  <td> 0</td>\n                  <td>2</td>\n                  <td> 9</td>\n                </tr>\n                <tr>\n                  <td> 2</td>\n                  <td>2023-12-01</td>\n                  <td>Away</td>\n                  <td>Thomas</td>\n                  <td>73</td>\n                  <td>13</td>\n                  <td>24</td>\n                  <td>37</td>\n                  <td>12</td>\n                  <td>12</td>\n                  <td>6</td>\n                  <td>14</td>\n                </tr>\n                <tr>\n                  <td> 2</td>\n                  <td>2023-12-01</td>\n                  <td>Away</td>\n                  <td>Geary</td>\n                  <td>49</td>\n                  <td> 8</td>\n                  <td>14</td>\n                  <td>22</td>\n                  <td> 7</td>\n                  <td> 6</td>\n                  <td>3</td>\n                  <td>19</td>\n                </tr>\n                <tr>\n                  <td> 3</td>\n                  <td>2023-12-05</td>\n                  <td>Home</td>\n                  <td>Thomas</td>\n                  <td>43</td>\n                  <td> 8</td>\n                  <td>20</td>\n                  <td>28</td>\n                  <td>12</td>\n                  <td>11</td>\n                  <td>5</td>\n                  <td>17</td>\n                </tr>\n                <tr>\n                  <td> 3</td>\n                  <td>2023-12-05</td>\n                  <td>Home</td>\n                  <td>Arapaho</td>\n                  <td>44</td>\n                  <td>13</td>\n                  <td>13</td>\n                  <td>26</td>\n                  <td> 8</td>\n                  <td>10</td>\n                  <td>3</td>\n                  <td>14</td>\n                </tr>\n                <tr>\n                  <td> 4</td>\n                  <td>2023-12-07</td>\n                  <td>Tournament</td>\n                  <td>Thomas</td>\n                  <td>39</td>\n                  <td> 7</td>\n                  <td>21</td>\n                  <td>28</td>\n                  <td> 7</td>\n                  <td>12</td>\n                  <td>2</td>\n                  <td>16</td>\n                </tr>\n                <tr>\n                  <td> 4</td>\n                  <td>2023-12-07</td>\n                  <td>Tournament</td>\n                  <td>Burns Flat-Dill City</td>\n                  <td>11</td>\n                  <td> 3</td>\n                  <td>11</td>\n                  <td>14</td>\n                  <td> 3</td>\n                  <td> 6</td>\n                  <td>3</td>\n                  <td>24</td>\n                </tr>\n                <tr>\n                  <td> 5</td>\n                  <td>2023-12-08</td>\n                  <td>Tournament</td>\n                  <td>Thomas</td>\n                  <td>23</td>\n                  <td> 7</td>\n                  <td>13</td>\n                  <td>20</td>\n                  <td> 1</td>\n                  <td> 5</td>\n                  <td>4</td>\n                  <td>13</td>\n                </tr>\n                <tr>\n                  <td> 5</td>\n                  <td>2023-12-08</td>\n                  <td>Tournament</td>\n                  <td>Hobart</td>\n                  <td>33</td>\n                  <td> 5</td>\n                  <td>18</td>\n                  <td>23</td>\n                  <td> 6</td>\n                  <td> 8</td>\n                  <td>4</td>\n                  <td>18</td>\n                </tr>\n                <tr>\n                  <td> 6</td>\n                  <td>2023-12-09</td>\n                  <td>Tournament</td>\n                  <td>Thomas</td>\n                  <td>39</td>\n                  <td> 8</td>\n                  <td>18</td>\n                  <td>26</td>\n                  <td> 5</td>\n                  <td> 7</td>\n                  <td>3</td>\n                  <td>21</td>\n                </tr>\n                <tr>\n                  <td> 6</td>\n                  <td>2023-12-09</td>\n                  <td>Tournament</td>\n                  <td>Mangum</td>\n                  <td>47</td>\n                  <td> 9</td>\n                  <td>14</td>\n                  <td>23</td>\n                  <td> 7</td>\n                  <td> 7</td>\n                  <td>0</td>\n                  <td>18</td>\n                </tr>\n                <tr>\n                  <td> 7</td>\n                  <td>2023-12-12</td>\n                  <td>Away</td>\n                  <td>Thomas</td>\n                  <td>52</td>\n                  <td>18</td>\n                  <td>21</td>\n                  <td>39</td>\n                  <td>10</td>\n                  <td>13</td>\n                  <td>4</td>\n                  <td> 7</td>\n                </tr>\n                <tr>\n                  <td> 7</td>\n                  <td>2023-12-12</td>\n                  <td>Away</td>\n                  <td>Calumet</td>\n                  <td>24</td>\n                  <td> 6</td>\n                  <td>12</td>\n                  <td>18</td>\n                  <td> 5</td>\n                  <td> 5</td>\n                  <td>5</td>\n                  <td>18</td>\n                </tr>\n                <tr>\n                  <td> 8</td>\n                  <td>2023-12-14</td>\n                  <td>Home</td>\n                  <td>Thomas</td>\n                  <td>33</td>\n                  <td> 3</td>\n                  <td>17</td>\n                  <td>20</td>\n                  <td> 4</td>\n                  <td> 7</td>\n                  <td>1</td>\n                  <td>15</td>\n                </tr>\n                <tr>\n                  <td> 8</td>\n                  <td>2023-12-14</td>\n                  <td>Home</td>\n                  <td>Canton</td>\n                  <td>43</td>\n                  <td> 6</td>\n                  <td>15</td>\n                  <td>21</td>\n                  <td> 7</td>\n                  <td> 7</td>\n                  <td>0</td>\n                  <td> 8</td>\n                </tr>\n                <tr>\n                  <td> 9</td>\n                  <td>2023-12-18</td>\n                  <td>Home</td>\n                  <td>Thomas</td>\n                  <td>41</td>\n                  <td> 3</td>\n                  <td>17</td>\n                  <td>20</td>\n                  <td> 6</td>\n                  <td>10</td>\n                  <td>0</td>\n                  <td>17</td>\n                </tr>\n                <tr>\n                  <td> 9</td>\n                  <td>2023-12-18</td>\n                  <td>Home</td>\n                  <td>Union City</td>\n                  <td>31</td>\n                  <td> 6</td>\n                  <td>10</td>\n                  <td>16</td>\n                  <td> 7</td>\n                  <td> 9</td>\n                  <td>1</td>\n                  <td>20</td>\n                </tr>\n                <tr>\n                  <td>10</td>\n                  <td>2024-01-04</td>\n                  <td>Tournament</td>\n                  <td>Thomas</td>\n                  <td>45</td>\n                  <td>15</td>\n                  <td>19</td>\n                  <td>34</td>\n                  <td> 7</td>\n                  <td>12</td>\n                  <td>4</td>\n                  <td>11</td>\n                </tr>\n                <tr>\n                  <td>10</td>\n                  <td>2024-01-04</td>\n                  <td>Tournament</td>\n                  <td>Ringwood</td>\n                  <td>21</td>\n                  <td> 3</td>\n                  <td>15</td>\n                  <td>18</td>\n                  <td> 4</td>\n                  <td> 4</td>\n                  <td>0</td>\n                  <td>24</td>\n                </tr>\n                <tr>\n                  <td>11</td>\n                  <td>2024-01-05</td>\n                  <td>Tournament</td>\n                  <td>Thomas</td>\n                  <td>32</td>\n                  <td> 6</td>\n                  <td>12</td>\n                  <td>18</td>\n                  <td> 4</td>\n                  <td> 4</td>\n                  <td>0</td>\n                  <td> 9</td>\n                </tr>\n                <tr>\n                  <td>11</td>\n                  <td>2024-01-05</td>\n                  <td>Tournament</td>\n                  <td>Canton</td>\n                  <td>38</td>\n                  <td> 7</td>\n                  <td>12</td>\n                  <td>19</td>\n                  <td> 5</td>\n                  <td> 4</td>\n                  <td>1</td>\n                  <td>12</td>\n                </tr>\n                <tr>\n                  <td>12</td>\n                  <td>2024-01-06</td>\n                  <td>Tournament</td>\n                  <td>Thomas</td>\n                  <td>40</td>\n                  <td>11</td>\n                  <td>16</td>\n                  <td>27</td>\n                  <td> 7</td>\n                  <td> 9</td>\n                  <td>0</td>\n                  <td>12</td>\n                </tr>\n                <tr>\n                  <td>12</td>\n                  <td>2024-01-06</td>\n                  <td>Tournament</td>\n                  <td>Okeene</td>\n                  <td>38</td>\n                  <td> 7</td>\n                  <td> 9</td>\n                  <td>16</td>\n                  <td> 6</td>\n                  <td> 3</td>\n                  <td>2</td>\n                  <td>13</td>\n                </tr>\n                <tr>\n                  <td>13</td>\n                  <td>2024-01-09</td>\n                  <td>Away</td>\n                  <td>Thomas</td>\n                  <td>32</td>\n                  <td> 7</td>\n                  <td>14</td>\n                  <td>21</td>\n                  <td> 4</td>\n                  <td> 3</td>\n                  <td>0</td>\n                  <td>18</td>\n                </tr>\n                <tr>\n                  <td>13</td>\n                  <td>2024-01-09</td>\n                  <td>Away</td>\n                  <td>Lookeba-Sickles</td>\n                  <td>75</td>\n                  <td>11</td>\n                  <td>18</td>\n                  <td>29</td>\n                  <td>20</td>\n                  <td> 8</td>\n                  <td>2</td>\n                  <td>10</td>\n                </tr>\n                <tr>\n                  <td>14</td>\n                  <td>2024-01-12</td>\n                  <td>Away</td>\n                  <td>Thomas</td>\n                  <td>33</td>\n                  <td> 5</td>\n                  <td>13</td>\n                  <td>18</td>\n                  <td> 6</td>\n                  <td> 4</td>\n                  <td>3</td>\n                  <td>15</td>\n                </tr>\n                <tr>\n                  <td>14</td>\n                  <td>2024-01-12</td>\n                  <td>Away</td>\n                  <td>Okarche</td>\n                  <td>47</td>\n                  <td> 9</td>\n                  <td>12</td>\n                  <td>21</td>\n                  <td> 8</td>\n                  <td> 6</td>\n                  <td>2</td>\n                  <td>11</td>\n                </tr>\n                <tr>\n                  <td>15</td>\n                  <td>2024-01-12</td>\n                  <td>Away</td>\n                  <td>Thomas</td>\n                  <td>39</td>\n                  <td>15</td>\n                  <td>17</td>\n                  <td>32</td>\n                  <td>10</td>\n                  <td>19</td>\n                  <td>3</td>\n                  <td>13</td>\n                </tr>\n                <tr>\n                  <td>15</td>\n                  <td>2024-01-12</td>\n                  <td>Away</td>\n                  <td>Gracemont</td>\n                  <td>26</td>\n                  <td> 4</td>\n                  <td>25</td>\n                  <td>29</td>\n                  <td> 5</td>\n                  <td> 6</td>\n                  <td>1</td>\n                  <td>27</td>\n                </tr>\n                <tr>\n                  <td>16</td>\n                  <td>2024-01-15</td>\n                  <td>Away</td>\n                  <td>Thomas</td>\n                  <td>33</td>\n                  <td> 8</td>\n                  <td>13</td>\n                  <td>21</td>\n                  <td> 7</td>\n                  <td>10</td>\n                  <td>8</td>\n                  <td>14</td>\n                </tr>\n                <tr>\n                  <td>16</td>\n                  <td>2024-01-15</td>\n                  <td>Away</td>\n                  <td>Corn Bible</td>\n                  <td>26</td>\n                  <td> 8</td>\n                  <td>12</td>\n                  <td>20</td>\n                  <td> 7</td>\n                  <td> 7</td>\n                  <td>1</td>\n                  <td>18</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\n    <script>\n    function styleCell_iswqx1j0pz4id9qmzkao(i, j, css_id) {\n      var table = document.getElementById(\"tinytable_iswqx1j0pz4id9qmzkao\");\n      table.rows[i].cells[j].classList.add(css_id);\n    }\n    function insertSpanRow(i, colspan, content) {\n      var table = document.getElementById('tinytable_iswqx1j0pz4id9qmzkao');\n      var newRow = table.insertRow(i);\n      var newCell = newRow.insertCell(0);\n      newCell.setAttribute(\"colspan\", colspan);\n      newCell.innerText = content;\n    }\n    </script>\n\n  </body>\n\n</html>\n\n```\n\n:::\n:::\n\n\n## Player Stats\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# one row per player per game\nplayer_stats_detailed <- dates |> \n  select(-location) |> \n  left_join(player_stats, by = \"game\") |> \n  select(-PTS) |> \n  mutate(\n    PTS = FTM + (2 * `2PM`) + (3 * `3PM`),\n    `2PT_PCT` = round(`2PM` / `2PA`, digits = 3),\n    `3PT_PCT` = round(`3PM` / `3PA`, digits = 3),\n    FT_PCT = round(FTM / FTA, digits = 3),\n    REB = OREB + DREB) |> \n  rename(`+/-` = `+ / -`) |> \n  select(\n    game, date, type, opponent, num = number, name, \n    PTS, OREB, DREB, REB, AST, STL, BLK, TO, PF, MIN, `+/-`,\n    `2PA`, `2PM`, `2PT_PCT`, `3PA`, `3PM`, `3PT_PCT`, FTA, FTM, FT_PCT)\n\n# one row per player - SUMS\nplayer_stats_sums <- player_stats_detailed |> \n  summarise(\n    num = first(num),\n    G = n(),\n    across(\n      c(PTS:`2PM`, `3PA`, `3PM`, FTA, FTM),\n      sum),\n    .by = name) |> \n  select(num, everything())\n\n# one row per player - MEANS\nplayer_stats_means <- player_stats_sums |> \n  mutate(\n    across(\n      c(4:20),\n      ~ round(.x / G, digits = 1))) |> \n  mutate(\n    `2PT_PCT` = round(`2PM` / `2PA`, digits = 3),\n    `3PT_PCT` = round(`3PM` / `3PA`, digits = 3),\n    FT_PCT = round(FTM / FTA, digits = 3),\n    TS_PCT = round(PTS / (2 * (`2PA` + `3PA` + (0.44 * FTA))), digits = 3),\n    `AST/TO` = round(AST / TO, digits = 2)\n  )\n```\n:::\n\n::: {#tbl-player-stats .cell tbl-cap='Player Stats (averages per game)'}\n\n```{.r .cell-code}\nplayer_stats_tt <- player_stats_means |> \n  arrange(desc(MIN)) |> \n  select(1:4, 7:14) \n\ntinytable::tt(player_stats_tt, theme = \"striped\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_lj28jijgj8ubrcr7dnup</title>\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <style>\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-striped\" id=\"tinytable_lj28jijgj8ubrcr7dnup\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\">num</th>\n                <th scope=\"col\">name</th>\n                <th scope=\"col\">G</th>\n                <th scope=\"col\">PTS</th>\n                <th scope=\"col\">REB</th>\n                <th scope=\"col\">AST</th>\n                <th scope=\"col\">STL</th>\n                <th scope=\"col\">BLK</th>\n                <th scope=\"col\">TO</th>\n                <th scope=\"col\">PF</th>\n                <th scope=\"col\">MIN</th>\n                <th scope=\"col\">+/-</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td> 5</td>\n                  <td>Jorgen Stewart</td>\n                  <td>16</td>\n                  <td>11.1</td>\n                  <td>3.4</td>\n                  <td>1.5</td>\n                  <td>1.7</td>\n                  <td>0.3</td>\n                  <td>1.9</td>\n                  <td>1.8</td>\n                  <td>29.0</td>\n                  <td> 4.6</td>\n                </tr>\n                <tr>\n                  <td>15</td>\n                  <td>Channing Wright</td>\n                  <td>16</td>\n                  <td> 9.6</td>\n                  <td>3.1</td>\n                  <td>1.5</td>\n                  <td>2.8</td>\n                  <td>0.1</td>\n                  <td>3.1</td>\n                  <td>2.4</td>\n                  <td>27.6</td>\n                  <td> 4.2</td>\n                </tr>\n                <tr>\n                  <td>24</td>\n                  <td>Madi Mannering</td>\n                  <td>10</td>\n                  <td> 8.9</td>\n                  <td>8.5</td>\n                  <td>1.0</td>\n                  <td>1.2</td>\n                  <td>2.8</td>\n                  <td>2.2</td>\n                  <td>2.2</td>\n                  <td>27.3</td>\n                  <td> 4.3</td>\n                </tr>\n                <tr>\n                  <td>23</td>\n                  <td>Kate Mannering</td>\n                  <td>13</td>\n                  <td> 4.2</td>\n                  <td>3.5</td>\n                  <td>1.3</td>\n                  <td>0.5</td>\n                  <td>0.4</td>\n                  <td>1.7</td>\n                  <td>1.6</td>\n                  <td>19.8</td>\n                  <td> 1.9</td>\n                </tr>\n                <tr>\n                  <td>11</td>\n                  <td>Annmarie Cometsevah</td>\n                  <td>16</td>\n                  <td> 3.2</td>\n                  <td>3.3</td>\n                  <td>0.8</td>\n                  <td>1.4</td>\n                  <td>0.1</td>\n                  <td>2.1</td>\n                  <td>1.9</td>\n                  <td>18.8</td>\n                  <td> 1.6</td>\n                </tr>\n                <tr>\n                  <td>20</td>\n                  <td>Abbi Crowdis</td>\n                  <td> 9</td>\n                  <td> 2.6</td>\n                  <td>3.1</td>\n                  <td>1.8</td>\n                  <td>0.3</td>\n                  <td>0.3</td>\n                  <td>2.7</td>\n                  <td>1.1</td>\n                  <td>17.8</td>\n                  <td> 7.4</td>\n                </tr>\n                <tr>\n                  <td>21</td>\n                  <td>Jozlun Fite</td>\n                  <td>16</td>\n                  <td> 3.4</td>\n                  <td>3.8</td>\n                  <td>0.3</td>\n                  <td>0.5</td>\n                  <td>0.2</td>\n                  <td>1.5</td>\n                  <td>1.2</td>\n                  <td>16.6</td>\n                  <td> 1.6</td>\n                </tr>\n                <tr>\n                  <td>14</td>\n                  <td>McCartney Lisle</td>\n                  <td>16</td>\n                  <td> 1.5</td>\n                  <td>1.1</td>\n                  <td>0.3</td>\n                  <td>0.6</td>\n                  <td>0.0</td>\n                  <td>1.4</td>\n                  <td>1.1</td>\n                  <td>13.9</td>\n                  <td>-0.3</td>\n                </tr>\n                <tr>\n                  <td>22</td>\n                  <td>Jaelyn Koontz</td>\n                  <td>15</td>\n                  <td> 1.0</td>\n                  <td>1.5</td>\n                  <td>0.0</td>\n                  <td>0.2</td>\n                  <td>0.0</td>\n                  <td>0.1</td>\n                  <td>1.0</td>\n                  <td> 8.8</td>\n                  <td> 0.1</td>\n                </tr>\n                <tr>\n                  <td>12</td>\n                  <td>McKenzie McGuire</td>\n                  <td> 6</td>\n                  <td> 0.8</td>\n                  <td>0.8</td>\n                  <td>0.3</td>\n                  <td>0.2</td>\n                  <td>0.0</td>\n                  <td>0.3</td>\n                  <td>0.0</td>\n                  <td> 5.7</td>\n                  <td> 0.2</td>\n                </tr>\n                <tr>\n                  <td>42</td>\n                  <td>Sadie Kliewer</td>\n                  <td> 4</td>\n                  <td> 0.0</td>\n                  <td>0.2</td>\n                  <td>0.0</td>\n                  <td>0.0</td>\n                  <td>0.0</td>\n                  <td>0.0</td>\n                  <td>0.0</td>\n                  <td> 3.2</td>\n                  <td>-2.8</td>\n                </tr>\n                <tr>\n                  <td>35</td>\n                  <td>Chesney Hazel</td>\n                  <td> 3</td>\n                  <td> 0.7</td>\n                  <td>1.0</td>\n                  <td>0.0</td>\n                  <td>0.0</td>\n                  <td>0.3</td>\n                  <td>0.0</td>\n                  <td>0.0</td>\n                  <td> 3.0</td>\n                  <td>-1.7</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\n    <script>\n    function styleCell_lj28jijgj8ubrcr7dnup(i, j, css_id) {\n      var table = document.getElementById(\"tinytable_lj28jijgj8ubrcr7dnup\");\n      table.rows[i].cells[j].classList.add(css_id);\n    }\n    function insertSpanRow(i, colspan, content) {\n      var table = document.getElementById('tinytable_lj28jijgj8ubrcr7dnup');\n      var newRow = table.insertRow(i);\n      var newCell = newRow.insertCell(0);\n      newCell.setAttribute(\"colspan\", colspan);\n      newCell.innerText = content;\n    }\n    </script>\n\n  </body>\n\n</html>\n\n```\n\n:::\n:::\n\n\n## Advanced Stats\n\n### Definitions\n\nLet's calculate some more advanced player stats, but first we will need to calculate a few game-level team stats. Namely:\n\n-   $FGA$ - total field goals attempted (`2PA` + `3PA`) by Thomas (`TLT_FGA`) or opponent (`OPP_FGA`)\n-   $FGM$ - total field goals made (`2PM` + `3PM`) by Thomas (`TLT_FGM`) or opponent (`OPP_FGM`)\n-   $FTA$ - total free throws attempted by Thomas (`TLT_FTA`) or opponent (`OPP_FTA`)\n-   $3PA$ - total 3-pointers attempted by Thomas (`TLT_3PA`) or opponent (`OPP_3PA`)\n-   $OREB$ - total offensive rebounds by Thomas (`TLT_OREB`) or their opponent (`OPP_OREB`)\n-   $REB$ - total rebounds for Thomas (`TLT_REB`) or their opponent (`OPP_REB`)\n-   $TO$ - total turnovers for Thomas (`TLT_TO`) or their opponent (`OPP_TO`)\n\nThe `TLT` and `OPP` prefixes are acronyms for \"Thomas Lady Terriers\" and \"opponent\", respectively. In the formulas below, the `TLT` prefix is implied for any stats/metrics that don't have a prefix displayed. \n\n**True Shooting Percentage** (`TS_PCT`) - this metric incorporates shooting efficiency for free throws, 2-point shots and 3-point shots:\n\n$$\nTS\\_PCT=\\frac{PTS}{2\\big(FGA+(0.44 \\times FTA)\\big)}\n$$\n**Estimated Possessions** (`POSS`) - this estimates the number of posessions a team has in a game based on shots taken, offensive rebounds and turnovers:\n\n$$\nPOSS=0.5 \\times \\big(FGA+(0.475 \\times FTA)-OREB+TO\\big)\n$$\n\nIt should be noted that `POSS` is a *team metric only*. This metric, while useful as a measure of pace, is also used to calculate some of the player metrics described below.\n\n**Rebounding Percentage** (`REB_PCT`) - measures a player's total rebounding contribution to the game, and is adjusted for time spent on the court:\n\n$$\nREB\\_PCT=\\frac{REB \\times \\frac{32}{MIN}}{TLT\\_REB+OPP\\_REB}\n$$\nIf a player plays all 32 minutes of the game, this metric will provide the proportion of a player's rebounds to the total game rebounds of both teams. For the average rebounder, this metric should be close to 0.1 since there is a 1 of 10 players on the court will get a given rebound.\n\n**Assist Ratio** (`AST_RT`) - measures the percentage of teammate baskets a player assisted on, and is adjusted for time spent on the court:\n\n$$\nAST\\_RT=\\frac{AST}{\\bigg(\\frac{MIN}{32}\\times TLT\\_FGM\\bigg)-FGM}\n$$\n\n**Assist Percentage** (`AST_PCT`) - measures the proportion of player assists per team possession, and is adjusted for time spent on the court:\n\n$$\nAST\\_PCT=\\frac{AST}{\\frac{MIN}{32}\\times TLT\\_POSS}\n$$\n\nIf a team plays at a fast pace, this metric adjusts for pace because it's based on total team possessions. This metric penalizes a player when teammates miss shots or turn the ball over.\n\n**Steal Percentage** (`STL_PCT`) - proportion of opponent's possessions in which a player gets a steal, and is adjusted for time spent on the court:\n\n$$\nSTL\\_PCT=\\frac{STL}{\\frac{MIN}{32}\\times OPP\\_POSS}\n$$\n\n**Block Percentage** (`BLK_PCT`) - proportion of opponent's possessions in which a player gets a block, and is adjusted for time spent on the court:\n\n$$\nBLK\\_PCT=\\frac{BLK}{\\frac{MIN}{32}\\times OPP\\_POSS}\n$$\n\n**Turnover Percentage** (`TOV_PCT`) - measures the proportion of player turnovers per team possession, and is adjusted for time spent on the court:\n\n$$\nTOV\\_PCT=\\frac{TO}{\\frac{MIN}{32}\\times TLT\\_POSS}\n$$\n\n**Player Efficiency** (`EFF`) - this is a (somewhat crude) measure of player efficiency, which is an adjusted difference of positive stats to negative stats:\n\n1.  positive stats: *points*, *rebounds*, *assists*, *steals* and *blocks*\n2.  negative stats: *missed field goals*, *missed free throws* and *turnovers*\n\nThe sum of positive stats minus the sum of negative stats is then adjusted for time spent on the court:\n\n$$\n\\mathrm{EFF} = \\frac{32}{\\mathrm{MIN}}\n\\Big(\\mathrm{PTS}+\\mathrm{REB}+\\mathrm{AST}+\\mathrm{STL}+\\mathrm{BLK}\n\\\\\n\\hspace{1.5cm}-(\\mathrm{FGA}-\\mathrm{FGM})-(\\mathrm{FTA}-\\mathrm{FTM})-\\mathrm{TO}\\Big)\n\n$$\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}